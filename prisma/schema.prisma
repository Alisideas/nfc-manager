generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Patient {
  id                        String        @id @default(auto()) @map("_id") @db.ObjectId
  firstName                 String
  lastName                  String
  photoUrl                  String?
  idNumber                  String
  trackingId                String
  gender                    String
  age                       Int
  medicalHistory            String
  specificDesase            String
  insuranceType             String
  referredDoctor            String
  bodyPartAffected          String
  NumberOfBodyPartsAffected Int
  visitingType              String
  address                   String
  phoneNumber               String
  email                     String?
  relatedImages             String[]
  illness                   String
  nfcId                     String        @unique
  currentAppointment        DateTime?
  nextAppointment           DateTime?
  createdAt                 DateTime      @default(now())
  updatedAt                 DateTime      @updatedAt
  history                   Appointment[]
}

model Appointment {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  patientId   String   @db.ObjectId
  date        DateTime
  description String
  status      String // "upcoming", "completed"

  patient Patient @relation(fields: [patientId], references: [id])
}
